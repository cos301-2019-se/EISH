
  <h1>Consumption Heavy Devices</h1>
  <div class="topDevices">
  <div class="device" *ngFor="let device of deviceArray">
    <span class="deviceName">{{device.deviceName}}</span>
    <span class="toggleButton"><button mat-stroked-button color="primary" (click)="toggleDevice()">ON</button></span>
    <div class="deviceConsumptionBar"><mat-progress-bar mode="determinate" [value]="device.deviceConsumption"></mat-progress-bar></div>
  </div>
</div>
<div style="margin: 1rem;">
  <h1>All Devices</h1>
  <div >
      <form class="searchDevice">
          <mat-form-field class="searchBar">
            <input type="text" placeholder="Enter device name" aria-label="device name" matInput [formControl]="userDeviceName" [matAutocomplete]="auto">
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let option of deviceArray | async " [value]="option">
                {{option}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
          <button mat-button color="primary" (click)="returnDevice()">Search</button>
        </form>
  </div>
  <div class="deviceTable">
      <mat-accordion>
          <mat-expansion-panel *ngFor="let device of deviceArray" (opened)="panelOpenState = true"
                               (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title>
                {{device.deviceName}}
              </mat-panel-title>
            </mat-expansion-panel-header>
            <span>Current Consumption: {{device.deviceConsumption}} W</span>
          </mat-expansion-panel>
      </mat-accordion>
  </div>
</div>
<br>
<br>
<br>